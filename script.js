let products = {
  products: [
    {
      mens: [
        {
          id: 1,
          title: "Rainbow logo tee",
          description:
            "If your entire wardrobe is black and at least one person in your life has told you to wear more color, this shirt is the compromise you've been waiting for.",
          price: 549,
          discountPercentage: 12.96,
          rating: 4.69,
          stock: 94,
          quantity: 2,
          brand: "Figma",
          category: "apparels",
          thumbnail:
            "https://store.figma.com/cdn/shop/products/Figma-Store-1096_1000x.jpg?v=1636599836",
          images: [
            "https://store.figma.com/cdn/shop/products/Figma-Store-1039_1000x.jpg?v=1636599836",
            "https://store.figma.com/cdn/shop/products/Figma-Store-1108_1000x.jpg?v=1636599836",
            "https://store.figma.com/cdn/shop/products/Figma-Store---Product-4381_1000x.jpg?v=1636323317",
          ],
        },
        {
          id: 2,
          title: "Tidy up tee",
          description: "If only there was a Tidy Up button for our lives…sigh.",
          price: 899,
          discountPercentage: 17.94,
          rating: 4.44,
          stock: 34,
          quantity: 1,
          brand: "Figma",
          category: "apparels",
          thumbnail:
            "https://store.figma.com/cdn/shop/products/figma-store_tidy-up-tee_01_1000x.jpg?v=1670516715",
          images: [
            "https://store.figma.com/cdn/shop/products/figma-store_tidy-up-tee_01_1000x.jpg?v=1670516715",
            "https://store.figma.com/cdn/shop/products/figma-store_tidy-up-tee_01_1000x.jpg?v=1670516715",
            "https://store.figma.com/cdn/shop/products/figma-store_tidy-up-tee_01_1000x.jpg?v=1670516715",
          ],
        },
        {
          id: 3,
          title: "Pixel perfect dark mode tee",
          description:
            "This tee is in dark mode, just like your design soul. Bask in the darkness and blend into your UI—if only for a moment—before the reflective logo picks up the light of a computer screen.",
          price: 1499,
          discountPercentage: 4.15,
          rating: 4.25,
          stock: 50,
          quantity: 4,
          brand: "Figma",
          category: "apparels",
          thumbnail:
            "https://store.figma.com/cdn/shop/products/IMG_9207_1000x.png?v=1651177999",
          images: [
            "https://store.figma.com/cdn/shop/products/IMG_9221_1000x.jpg?v=1651178100",
            "https://store.figma.com/cdn/shop/products/IMG_9221_1000x.jpg?v=1651178100",
            "https://store.figma.com/cdn/shop/products/IMG_9221_1000x.jpg?v=1651178100",
            "https://store.figma.com/cdn/shop/products/IMG_0060_1000x.jpg?v=1652132420",
          ],
        },
      ],
      womens: [
        {
          id: 4,
          title: "Framework tee",
          description:
            "Work that frame of yours in a tee that screams “I’ve got pixels and I know how to use ‘em.”",
          price: 1249,
          discountPercentage: 15.46,
          rating: 4.09,
          stock: 36,
          quantity: 5,
          brand: "Figma",
          category: "apparels",
          thumbnail:
            "https://store.figma.com/cdn/shop/products/figma-store_framework-tee_01_1000x.jpg?v=1670515454",
          images: [
            "https://store.figma.com/cdn/shop/products/figma-store_framework-tee_01_1000x.jpg?v=1670515454",
            "https://store.figma.com/cdn/shop/products/figma-store_framework-tee_03_1000x.jpg?v=1670597451",
            "https://store.figma.com/cdn/shop/products/figma-store_framework-tee_04_1000x.jpg?v=1670597451",
            "https://store.figma.com/cdn/shop/products/figma-store_framework-tee_05_1000x.jpg?v=1670597451",
          ],
        },
        {
          id: 5,
          title: "Dress code hat",
          description: "Are you casting a spell or is that just hex code? Yes.",
          price: 280,
          discountPercentage: 17.91,
          rating: 4.3,
          stock: 123,
          quantity: 5,
          brand: "Figma",
          category: "apparels",
          thumbnail:
            "https://store.figma.com/cdn/shop/products/figma-store_dress-code-hat_01_600x.png?v=1677707527",
          images: [
            "https://store.figma.com/cdn/shop/products/figma-store_dress-code-hat_01_1000x.png?v=1677707527",
            "https://store.figma.com/cdn/shop/products/figma-store_dress-code-hat_01_1000x.png?v=1677707527",
            "https://store.figma.com/cdn/shop/products/figma-store_dress-code-hat_01_1000x.png?v=1677707527",
            "https://store.figma.com/cdn/shop/products/figma-store_dress-code-hat_01_1000x.png?v=1677707527",
            "https://store.figma.com/cdn/shop/products/figma-store_dress-code-hat_01_1000x.png?v=1677707527",
          ],
        },
        {
          id: 6,
          title: "Figma wordmark tee",
          description:
            "We’ve heard that a plain tee says something by saying nothing. We like to think that this one says… Figma.",
          price: 1499,
          discountPercentage: 10.23,
          rating: 4.43,
          stock: 68,
          quantity: 1,
          brand: "",
          category: "apparels",
          thumbnail:
            "https://store.figma.com/cdn/shop/products/Figma-Store-3814_1000x.jpg?v=1636599369",
          images: [
            "https://store.figma.com/cdn/shop/products/Figma-Store-3804_1000x.jpg?v=1636599369",
            "https://store.figma.com/cdn/shop/products/Figma-Store-3917_1000x.jpg?v=1636599369",
            "https://store.figma.com/cdn/shop/products/Figma-Store-3917_1000x.jpg?v=1636599369",
          ],
        },
        {
          id: 7,
          title: "Infinix INBOOK",
          description:
            "Infinix Inbook X1 Ci3 10th 8GB 256GB 14 Win10 Grey – 1 Year Warranty",
          price: 1099,
          discountPercentage: 11.83,
          rating: 4.54,
          stock: 96,
          quantity: 2,
          brand: "Figma",
          category: "apparels",
          thumbnail:
            "https://store.figma.com/cdn/shop/products/Figma-Store-2327_600x.jpg?v=1636599425",
          images: [
            "https://store.figma.com/cdn/shop/products/Figma-Store-2327_600x.jpg?v=1636599425",
            "https://store.figma.com/cdn/shop/products/Figma-Store-2327_600x.jpg?v=1636599425",
            "https://store.figma.com/cdn/shop/products/Figma-Store-2327_600x.jpg?v=1636599425",
            "https://store.figma.com/cdn/shop/products/Figma-Store-2327_600x.jpg?v=1636599425",
          ],
        },
      ],
      accessories: [
        {
          id: 8,
          title: "Toolkit mug",
          description:
            "Huawei’s re-badged P30 Pro New Edition was officially unveiled yesterday in Germany and now the device has made its way to the UK.",
          price: 499,
          discountPercentage: 10.58,
          rating: 4.09,
          stock: 32,
          quantity: 3,
          brand: "Figma",
          category: "apparels",
          thumbnail:
            "https://store.figma.com/cdn/shop/products/figma-store_tool-kit-mug_01_1000x.jpg?v=1670520016",
          images: [
            "https://store.figma.com/cdn/shop/products/figma-store_tool-kit-mug_02_1000x.jpg?v=1670520015",
            "https://store.figma.com/cdn/shop/products/figma-store_tool-kit-mug_02_1000x.jpg?v=1670520015",
            "https://store.figma.com/cdn/shop/products/figma-store_tool-kit-mug_02_1000x.jpg?v=1670520015",
            "https://store.figma.com/cdn/shop/products/figma-store_tool-kit-mug_02_1000x.jpg?v=1670520015",
          ],
        },
        {
          id: 9,
          title: "Smiley Face Pin",
          description:
            "What we imagine you look like every time you open a Figma file.",
          price: 1749,
          discountPercentage: 11.02,
          rating: 4.57,
          stock: 83,
          quantity: 5,
          brand: "Apple",
          category: "laptops",
          thumbnail:
            "https://store.figma.com/cdn/shop/products/Figma-Store-3504_1000x.jpg?v=1636599916",
          images: [
            "https://store.figma.com/cdn/shop/products/Figma-Store-3550_1000x.jpg?v=1636599916",
            "https://store.figma.com/cdn/shop/products/Figma-Store-3579_1000x.jpg?v=1636599916",
            "https://store.figma.com/cdn/shop/products/Figma-Store-3579_1000x.jpg?v=1636599916",
          ],
        },
        {
          id: 10,
          title: "Cursor tote bag",
          description:
            "Totes are just a mobile version of that one really full drawer of random stuff we all have at home. We celebrate that with this canvas of possibilities.",
          price: 1099,
          discountPercentage: 6.18,
          rating: 4.43,
          stock: 89,
          quantity: 5,
          brand: "HP Pavilion",
          category: "laptops",
          thumbnail:
            "https://store.figma.com/cdn/shop/products/FigmaStore_Tote-25_1000x.jpg?v=1657055226",
          images: [
            "https://store.figma.com/cdn/shop/products/FigmaStore_Tote-25_1000x.jpg?v=1657055226",
            "https://store.figma.com/cdn/shop/products/FigmaStore_Tote-25_1000x.jpg?v=1657055226",
            "https://store.figma.com/cdn/shop/products/FigmaStore_Tote-25_1000x.jpg?v=1657055226",
          ],
        },
      ],
    },
  ],
};

if (document.getElementById("menprod")) {
  let menprod = document.getElementById("menprod");
  let womenprod = document.getElementById("womenprod");
  let accessoriesprod = document.getElementById("accessoriesprod");

  menprod.src = products.products[0].mens[0].thumbnail;
  womenprod.src = products.products[0].womens[0].thumbnail;
  accessoriesprod.src = products.products[0].accessories[0].thumbnail;
}

if (document.getElementById("cardbx")) {
  let cardbx = document.getElementById("cardbx");
  let urlParams = new URLSearchParams(window.location.search);
  let urlCategory = urlParams.get("category") || "womens";
  let categoryProducts = products.products[0][urlCategory];
  document.getElementById("categotitle").textContent = urlCategory.slice(0, -1);

  categoryProducts.forEach((product) => {
    console.log(product.id);
    let cardStructure = `
    <div onclick="gotoprod('singleprod.html?productid=${product.id}')" class="card">
      <img id="img4" src="${product.thumbnail}" alt="">
      <div class="cardcontent">
           <h4 id="title3">New !<br> ${product.title}</h4>
            <p id="price3">Rs.${product.price}</p>
      </div>
    </div>`;

    cardbx.innerHTML += cardStructure;
  });
}

if (document.getElementById("bigimg")) {
  let urlParams = new URLSearchParams(window.location.search);
  let productId = urlParams.get("productid") || 4;
  let urlCategory = urlParams.get("category") || "womens";
  let selectedProduct = products.products[0][urlCategory].find(
    (product) => product.id == productId
  );

  let title = document.getElementById("title");
  let description = document.getElementById("description");
  let price = document.getElementById("price");
  let quantity = document.getElementById("quantity");

  title.innerText = selectedProduct.title;
  description.innerText = selectedProduct.description;
  price.innerText = selectedProduct.price;

  let bigimg = document.getElementById("bigimg");
  bigimg.src = selectedProduct.images[0];

  let smcard = document.querySelector("#smcard");
  for (let i = 0; i < selectedProduct.images.length; i++) {
    let active = i == 0 ? `active` : ``;
    let imgsrc = selectedProduct.images[i];
    smcard.innerHTML += `<img onclick="smtobigimg(this)" class="smimg ${active}" src="${imgsrc}" alt="">`;
  }

  if (selectedProduct.quantity != 0) {
    let soldbtn = document.getElementById("soldbtn");
    soldbtn.style.display = "none";
  } else {
    let soldbtn1 = document.getElementById("soldbtn1");
    soldbtn1.style.display = "none";
  }
}

function openform() {
  document.getElementById("form").style.display = "flex";
}

function closeform() {
  document.getElementById("form").style.display = "none";
}

function onformsubmit(e) {
  e.preventDefault();
  closeform();
}

function goto(url) {
  window.location.href = url;
}

function gotoprod(url1) {
  let url = new URLSearchParams(window.location.search);
  let category = url.get(`category`);
  window.location.href = url1 + `&category=` + category;
}

function topFunction() {
  document.body.scrollTop = 0;
  document.documentElement.scrollTop = 0;
}

let sizes = document.getElementsByClassName('circles');

Array.from(sizes).forEach(size => {
  size.addEventListener('click', () => {

    Array.from(sizes).forEach(s => {
      s.style.backgroundColor = "";
      s.style.color = "";
    });

    size.style.backgroundColor = "black";
    size.style.color = "#fff";
  });
});


function smtobigimg(elem) {
  let smimggrp = document.getElementsByClassName("smimg");

  Array.from(smimggrp).forEach((element) => {
    element.classList.remove("active");
  });

  elem.classList.add("active");
  document.getElementById("bigimg").src = elem.src;
}

function openmenu() {
  document.getElementById("menuopen").style.display = "none";
  document.getElementById("hiddenelements").style.top = 0;
  document.getElementById("menuclose").style.display = "block";
}

function closemenu() {
  document.getElementById("menuopen").style.display = "block";
  document.getElementById("hiddenelements").style.top = "-100vh";
  document.getElementById("menuclose").style.display = "none";
}

let addbtn = document.getElementById("add");
let subbtn = document.getElementById("sub");
let value = document.getElementById("value");
let counter = 1;

addbtn.addEventListener("click", () => {
  counter++;
  value.innerHTML = counter;
});

subbtn.addEventListener("click", () => {
  if (counter > 1) {
    counter--;
    value.innerHTML = counter;
  }
});
